<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열에 함수 추가하기</title>
</head>

<body>
    <script>
        // 사용자로부터 숫자를 입력받고 배열로 반환하는 함수
        function inputData() {
            let arr = [];  // 입력받은 숫자를 저장할 빈 배열
            let index = 0;  // 배열의 인덱스 초기값

            // 무한 루프를 사용하여 사용자가 -1을 입력할 때까지 숫자를 계속 받음 
            while (true) {
                let num = parseInt(prompt("숫자를 입력하세요"));  // 사용자로부터 숫자를 입력받음

                // 숫자가 아닌 경우 (NaN인 경우), 경고 메시지를 출력하고 계속 반복
                if (isNaN(num)) {
                    alert("숫자를 입력하세요");
                    continue;  // 잘못된 입력이 들어오면 다시 입력을 받음
                }

                // -1이 입력되면 루프를 종료
                if (num === -1) {
                    break;       // -1을 입력하면 숫자 입력을 종료하고, 루프를 빠져나옴
                }

                // 배열에 입력 받은 숫자를 추가하고, 인덱스를 증가시킴
                arr[index] = num;  // 배열에 숫자를 삽입
                index++; // 배열의 인덱스를 하나 증가
            }
            return arr;  // 입력된 숫자 배열을 반환

        }

        // 배열의 합을 구하는 함수
        function addData(arr) {
            let sum = 0;  // 합계를 저장할 변수 초기화

            // 배열을 순회하면서 각 요소를 더함
            for (let i = 0; i < arr.length; i++) {
                sum = sum + arr[i]; // 각 배열 요소를 sum에 더함
            }
            return sum;  // 최종 합계를 반환
        }

        // 배열의 내용을 화면에 출력하는 함수
        function printData(arr) {
            document.write("<br>===============<br>"); // 구분선 출력
            // 배열의 모든 요소를 순차적으로 출력
            for (let i = 0; i < arr.length; i++) {
                document.write(arr[i] + " "); // 배열의 각 요소를 출력
            }
            document.write("<br>===============<br>");  // 구분선 출력
        }

        // inputData() 함수 호출하여 숫자 입력받은 배열을 numArr에 저장
        let numArr = inputData(); // addData() 함수 호출하여 배열의 합계 구하기
        let tatoal = addData(numArr);  // 배열의 합을 tatoal 변수에 저장

        // 평균을 계산 (합계를 배열의 길이로 나눔)
        let average = tatoal / numArr.length;  // 평균 계산

        // 배열의 내용을 화면에 출력
        printData(numArr);
        document.write("<br>배열의 합계: " + tatoal); // 배열의 합계 출력
        document.write("<br>배열의 평균: " + Math.round(average)); // 배열의 평균을 반올림 해서 출력


    </script>
</body>

</html>